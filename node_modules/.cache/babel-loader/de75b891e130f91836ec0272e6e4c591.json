{"ast":null,"code":"var _jsxFileName = \"/Users/sraju/Documents/github/relicstaurants/src/views/restaurants/restaurants.js\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport { useQuery } from 'react-query';\nimport { Collapse, Form, Rate, Slider } from 'antd';\nimport { Select } from 'antd';\nimport { useState } from 'react';\nimport { getFilterData } from './utils/getFIlteredData';\nimport { CardsWrapper, FiltersWrapper, RestaurantCard, RestaurantsViewWrapper } from './elements';\nimport { Message } from 'components/common';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Restaurants = () => {\n  _s();\n\n  const [filters, setFilters] = useState({\n    rating: 0,\n    prices: 0,\n    cuisine: undefined\n  });\n  const {\n    Panel\n  } = Collapse;\n  const [form] = Form.useForm();\n\n  const getRestaurants = async () => {\n    const {\n      data\n    } = await axios.get('http://lvh.me:3001/api/restaurants');\n    return data;\n  };\n\n  const {\n    data\n  } = useQuery('restaurants', getRestaurants);\n  const filteredData = getFilterData(data, filters);\n\n  const selectList = data => {\n    const list = data === null || data === void 0 ? void 0 : data.map(_ref => {\n      let {\n        cuisine\n      } = _ref;\n      return cuisine;\n    }).filter((x, i, a) => {\n      return a.indexOf(x) === i;\n    });\n    const options = (list === null || list === void 0 ? void 0 : list.map(value => ({\n      value: value,\n      label: value\n    }))) || [];\n    return options;\n  };\n\n  return /*#__PURE__*/_jsxDEV(RestaurantsViewWrapper, {\n    children: [/*#__PURE__*/_jsxDEV(FiltersWrapper, {\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        form: form,\n        onValuesChange: () => {\n          setFilters(form.getFieldsValue(true));\n        },\n        initialValues: {\n          rating: 0,\n          prices: 0,\n          cuisine: ''\n        },\n        children: /*#__PURE__*/_jsxDEV(Collapse, {\n          children: [/*#__PURE__*/_jsxDEV(Panel, {\n            header: \"Filter by score\",\n            children: /*#__PURE__*/_jsxDEV(Form.Item, {\n              name: \"rating\",\n              children: /*#__PURE__*/_jsxDEV(Rate, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 63,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 15\n            }, this)\n          }, \"1\", false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Panel, {\n            header: \"Filter by prices\",\n            children: /*#__PURE__*/_jsxDEV(Form.Item, {\n              name: \"prices\",\n              children: /*#__PURE__*/_jsxDEV(Slider, {\n                max: 5,\n                defaultValue: 0\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 15\n            }, this)\n          }, \"2\", false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Panel, {\n            header: \"Filter by cuisine\",\n            children: /*#__PURE__*/_jsxDEV(Form.Item, {\n              name: \"cuisine\",\n              children: /*#__PURE__*/_jsxDEV(Select, {\n                options: selectList(data),\n                allowClear: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 15\n            }, this)\n          }, \"3\", false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CardsWrapper, {\n      children: (filteredData === null || filteredData === void 0 ? void 0 : filteredData.length) > 0 ? filteredData === null || filteredData === void 0 ? void 0 : filteredData.map(item => {\n        return /*#__PURE__*/_jsxDEV(RestaurantCard, {\n          name: item.name,\n          id: item.id,\n          score: item.rating,\n          cuisine: item.cuisine,\n          price: item.price\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 15\n        }, this);\n      }) : /*#__PURE__*/_jsxDEV(Message, {\n        children: \"Nothing was found\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Restaurants, \"KhXhNiOqllDDIrGKi3UNjCTbHx4=\", false, function () {\n  return [Form.useForm, useQuery];\n});\n\n_c = Restaurants;\nexport default Restaurants;\n\nvar _c;\n\n$RefreshReg$(_c, \"Restaurants\");","map":{"version":3,"sources":["/Users/sraju/Documents/github/relicstaurants/src/views/restaurants/restaurants.js"],"names":["axios","useQuery","Collapse","Form","Rate","Slider","Select","useState","getFilterData","CardsWrapper","FiltersWrapper","RestaurantCard","RestaurantsViewWrapper","Message","Restaurants","filters","setFilters","rating","prices","cuisine","undefined","Panel","form","useForm","getRestaurants","data","get","filteredData","selectList","list","map","filter","x","i","a","indexOf","options","value","label","getFieldsValue","length","item","name","id","price"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport { useQuery } from 'react-query';\nimport { Collapse, Form, Rate, Slider } from 'antd';\n\nimport { Select } from 'antd';\nimport { useState } from 'react';\nimport { getFilterData } from './utils/getFIlteredData';\nimport {\n  CardsWrapper,\n  FiltersWrapper,\n  RestaurantCard,\n  RestaurantsViewWrapper,\n} from './elements';\nimport { Message } from 'components/common';\n\nconst Restaurants = () => {\n  const [filters, setFilters] = useState({\n    rating: 0,\n    prices: 0,\n    cuisine: undefined,\n  });\n\n  const { Panel } = Collapse;\n  const [form] = Form.useForm();\n\n  const getRestaurants = async () => {\n    const { data } = await axios.get('http://lvh.me:3001/api/restaurants');\n    return data;\n  };\n  const { data } = useQuery('restaurants', getRestaurants);\n\n  const filteredData = getFilterData(data, filters);\n\n  const selectList = (data) => {\n    const list = data\n      ?.map(({ cuisine }) => cuisine)\n      .filter((x, i, a) => {\n        return a.indexOf(x) === i;\n      });\n\n    const options =\n      list?.map((value) => ({\n        value: value,\n        label: value,\n      })) || [];\n\n    return options;\n  };\n\n  return (\n    <RestaurantsViewWrapper>\n      <FiltersWrapper>\n        <Form\n          form={form}\n          onValuesChange={() => {\n            setFilters(form.getFieldsValue(true));\n          }}\n          initialValues={{ rating: 0, prices: 0, cuisine: '' }}\n        >\n          <Collapse>\n            <Panel header=\"Filter by score\" key=\"1\">\n              <Form.Item name=\"rating\">\n                <Rate />\n              </Form.Item>\n            </Panel>\n            <Panel header=\"Filter by prices\" key=\"2\">\n              <Form.Item name=\"prices\">\n                <Slider max={5} defaultValue={0} />\n              </Form.Item>\n            </Panel>\n            <Panel header=\"Filter by cuisine\" key=\"3\">\n              <Form.Item name=\"cuisine\">\n                <Select options={selectList(data)} allowClear />\n              </Form.Item>\n            </Panel>\n          </Collapse>\n        </Form>\n      </FiltersWrapper>\n      <CardsWrapper>\n        {filteredData?.length > 0 ? (\n          filteredData?.map((item) => {\n            return (\n              <RestaurantCard\n                name={item.name}\n                id={item.id}\n                score={item.rating}\n                cuisine={item.cuisine}\n                price={item.price}\n              />\n            );\n          })\n        ) : (\n          <Message>Nothing was found</Message>\n        )}\n      </CardsWrapper>\n    </RestaurantsViewWrapper>\n  );\n};\n\nexport default Restaurants;\n"]},"metadata":{},"sourceType":"module"}