{"ast":null,"code":"var _jsxFileName = \"/Users/sraju/Documents/github/relicstaurants/src/views/single-restaurant/single-restaurant.js\",\n    _s = $RefreshSig$();\n\nimport { Button, Divider, message, Rate, Table } from 'antd';\nimport { orderList } from 'atoms/order-list.atom';\nimport axios from 'axios';\nimport { ViewWrapper } from 'components/common';\nimport React from 'react';\nimport { useQuery } from 'react-query';\nimport { useParams } from 'react-router';\nimport { useRecoilState } from 'recoil';\nimport { RestaurantData, RestaurantHead, RestaurantImage } from './single-restaurant.styled';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst getRestaurant = async id => {\n  const {\n    data\n  } = await axios.get(`http://lvh.me:3003/api/menu/${id}`);\n  return data;\n};\n\nconst SingleRestaurant = () => {\n  _s();\n\n  const {\n    id\n  } = useParams();\n  const [orderListItems, setOrderList] = useRecoilState(orderList);\n  const {\n    data\n  } = useQuery('restaurant', () => getRestaurant(id));\n\n  const handleAddToCart = clickedRow => {\n    const isItemInCart = orderListItems.find(item => item.name === clickedRow.name);\n    message.success(`${clickedRow.name} added to cart`, 1);\n\n    if (isItemInCart) {\n      const newData = orderListItems.map(item => item.name === clickedRow.name ? { ...item,\n        count: item.count + 1\n      } : item);\n      setOrderList(newData);\n    } else {\n      setOrderList([...orderListItems, {\n        name: clickedRow.name,\n        price: clickedRow.price,\n        count: 1\n      }]);\n    }\n  };\n\n  const columns = [{\n    title: 'Name',\n    dataIndex: 'name',\n    key: 'name'\n  }, {\n    title: 'Price',\n    dataIndex: 'price',\n    key: 'price'\n  }, {\n    title: 'Add to cart',\n    render: clickedRow => /*#__PURE__*/_jsxDEV(Button, {\n      onClick: () => handleAddToCart(clickedRow),\n      children: \"Add\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }, this)\n  }];\n  return /*#__PURE__*/_jsxDEV(ViewWrapper, {\n    children: [/*#__PURE__*/_jsxDEV(RestaurantHead, {\n      children: [/*#__PURE__*/_jsxDEV(RestaurantImage, {\n        alt: data === null || data === void 0 ? void 0 : data.name,\n        src: require(`./../../assets/images/restaurants/${id}.jpg`)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(RestaurantData, {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: data === null || data === void 0 ? void 0 : data.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Rate, {\n          value: data === null || data === void 0 ? void 0 : data.rating,\n          disabled: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: data === null || data === void 0 ? void 0 : data.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"You can find us at \", data === null || data === void 0 ? void 0 : data.location]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n      children: \"Menu\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Table, {\n      dataSource: data === null || data === void 0 ? void 0 : data.menuItems,\n      columns: columns,\n      style: {\n        width: '100%'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n};\n\n_s(SingleRestaurant, \"iCcCD3fZExA3BRbenMG5gW7XRbs=\", false, function () {\n  return [useParams, useRecoilState, useQuery];\n});\n\n_c = SingleRestaurant;\nexport default SingleRestaurant;\n\nvar _c;\n\n$RefreshReg$(_c, \"SingleRestaurant\");","map":{"version":3,"sources":["/Users/sraju/Documents/github/relicstaurants/src/views/single-restaurant/single-restaurant.js"],"names":["Button","Divider","message","Rate","Table","orderList","axios","ViewWrapper","React","useQuery","useParams","useRecoilState","RestaurantData","RestaurantHead","RestaurantImage","getRestaurant","id","data","get","SingleRestaurant","orderListItems","setOrderList","handleAddToCart","clickedRow","isItemInCart","find","item","name","success","newData","map","count","price","columns","title","dataIndex","key","render","require","rating","description","location","menuItems","width"],"mappings":"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","sourcesContent":["import { Button, Divider, message, Rate, Table } from 'antd';\nimport { orderList } from 'atoms/order-list.atom';\nimport axios from 'axios';\nimport { ViewWrapper } from 'components/common';\nimport React from 'react';\nimport { useQuery } from 'react-query';\nimport { useParams } from 'react-router';\nimport { useRecoilState } from 'recoil';\nimport {\n  RestaurantData,\n  RestaurantHead,\n  RestaurantImage,\n} from './single-restaurant.styled';\n\nconst getRestaurant = async (id) => {\n  const { data } = await axios.get(`http://lvh.me:3003/api/menu/${id}`);\n\n  return data;\n};\n\nconst SingleRestaurant = () => {\n  const { id } = useParams();\n\n  const [orderListItems, setOrderList] = useRecoilState(orderList);\n\n  const { data } = useQuery('restaurant', () => getRestaurant(id));\n\n  const handleAddToCart = (clickedRow) => {\n    const isItemInCart = orderListItems.find(\n      (item) => item.name === clickedRow.name\n    );\n\n    message.success(`${clickedRow.name} added to cart`, 1);\n\n    if (isItemInCart) {\n      const newData = orderListItems.map((item) =>\n        item.name === clickedRow.name\n          ? { ...item, count: item.count + 1 }\n          : item\n      );\n      setOrderList(newData);\n    } else {\n      setOrderList([\n        ...orderListItems,\n        { name: clickedRow.name, price: clickedRow.price, count: 1 },\n      ]);\n    }\n  };\n\n  const columns = [\n    { title: 'Name', dataIndex: 'name', key: 'name' },\n    { title: 'Price', dataIndex: 'price', key: 'price' },\n    {\n      title: 'Add to cart',\n      render: (clickedRow) => (\n        <Button onClick={() => handleAddToCart(clickedRow)}>Add</Button>\n      ),\n    },\n  ];\n\n  return (\n    <ViewWrapper>\n      <RestaurantHead>\n        <RestaurantImage\n          alt={data?.name}\n          src={require(`./../../assets/images/restaurants/${id}.jpg`)}\n        />\n        <RestaurantData>\n          <h1>{data?.name}</h1>\n          <Rate value={data?.rating} disabled />\n          <p>{data?.description}</p>\n          <p>You can find us at {data?.location}</p>\n        </RestaurantData>\n      </RestaurantHead>\n      <Divider />\n      <h4>Menu</h4>\n      <Table\n        dataSource={data?.menuItems}\n        columns={columns}\n        style={{ width: '100%' }}\n      />\n    </ViewWrapper>\n  );\n};\n\nexport default SingleRestaurant;\n"]},"metadata":{},"sourceType":"module"}